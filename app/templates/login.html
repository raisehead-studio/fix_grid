<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
    <form method="POST" class="bg-white p-6 rounded shadow-md w-80">
        <h2 class="text-xl mb-4">Login</h2>
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% for category, message in messages %}
            <div class="text-red-500 text-sm">{{ message }}</div>
          {% endfor %}
        {% endwith %}
        <input name="username" id="username" class="w-full border p-2 mb-4" placeholder="Username">
        <input name="password" id="password" type="password" class="w-full border p-2 mb-4" placeholder="Password">
        <button id="login-btn" class="w-full bg-blue-500 text-white p-2 disabled:opacity-50" disabled>Login</button>
    </form>

    <script>
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const loginButton = document.getElementById('login-btn');

      function toggleButtonState() {
        const isFilled = usernameInput.value.trim() !== '' && passwordInput.value.trim() !== '';
        loginButton.disabled = !isFilled;
      }

      usernameInput.addEventListener('input', toggleButtonState);
      passwordInput.addEventListener('input', toggleButtonState);
    </script>
</body>
</html>
